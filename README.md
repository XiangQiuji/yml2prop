YAML TO JAVA PROPERTIES MAVEN PLUGIN
========

This is a Maven Plugin which helps to generate java *.properties from *.yml (www.yaml.org).

#### Current version
**1.2**

#### Issue of do maintain java *.properties
Building the same artifact for different environments (`staging`, `development`, `production`...) has always been an annoyance. Developer need to do maintainance multiple .properties files (as given tree bellow). Actually, they have a few different values, such as : `connection.url`, `connection.usname`, `connection.pwd`...

Maven Profile plugin is a great tool to help when giving you an ability to do maintain your files, see [Maven Profile guide!](http://maven.apache.org/guides/mini/guide-building-for-different-environments.html). In short, your files will be in a tree like bellow
```
├── resources
│   ├── dev
│   │   ├── log4j.properties
│   │   └── appplication.properties
│   └── local
│       ├── log4j.properties
│       └── application.properties
```

This is actual annoying if you have so many many environments and many many many properties need your maintenance (like my `sample.properties` - soure code).

#### Example configuration
Define all properties for all environments in a YAML format (*.yml) like bellow
```ruby
#Local env
local:
  spring.profiles.active: ${spring.profile}
  webapp.resource.location: /assets/
  db:
    jdbcUrl: jdbc:pgsql://localhost:5432/bizi-app
    user: postgres
    password: P@ssw0rd
    driverClass: com.impossibl.postgres.jdbc.PGDriver
    pool.maxSize: 5
  base:
    url: http://sample.com/sample-app/
    adminTool.url: http://localhost:9090/

  bizi.admin.api.root.url: http://localhost:9090/api/%s
  redis.expire.time.min: 30
  core.encryptor.passphrase: 6jNugJnQ

#Staging env
staging:
  db:
    user: bizi
    password: password

  base:
    url: http://sample.com/sample-app/
    adminTool.url: http://sample.com/sample-api/

  bizi.admin.api.root.url: http://sample.com/sample-api/api/%s
```

The given example is to generate `prod` from `dev`.
```xml
<build>
   <plugins>
      <plugin>
         <groupId>com.github.phuonghuynh</groupId>
         <artifactId>yml2prop</artifactId>
         <version>1.2</version>
         <configuration>
            <sourceYaml>${basedir}/src/main/resources/test.yml</sourceYaml>
            <entries>
               <entry>dev</entry>
               <entry>prod</entry>
            </entries>
         </configuration>
         <executions>
            <execution>
               <phase>generate-resources</phase>
               <goals>
                  <goal>run</goal>
               </goals>
            </execution>
         </executions>
      </plugin>
   </plugins>
</build>
```

To run this plugin: 
```bash
mvn yml2prop:run
```

And sample result like this (for `prod` environment)
```java
#Generated by Yml2Prop plugin.
#Sat Dec 19 20:57:01 ICT 2015
db.jdbcUrl=jdbc\:pgsql\://localhost\:5432/bizi-app
redis.expire.time.min=30
webapp.resource.location=/assets/
db.user=postgres
core.encryptor.passphrase=6jNugJnQ
base.url=http\://sample.com/sample-app/
db.pool.maxSize=5
spring.profiles.active=${spring.profile}
base.adminTool.url=http\://localhost\:9090/
bizi.admin.api.root.url=http\://localhost\:9090/api/%s
db.password=P@ssw0rd
db.driverClass=com.impossibl.postgres.jdbc.PGDriver
```
#### Configuration parameters:
- `sourceYaml`: String - source path of your yaml file
- `entries`: Array of Strings - array of names that will be used to extracted to *.properties, ex: dev, prod, staging...
- `destProp`: String - destination path of your properties file

**Please fell free to contribute.**
